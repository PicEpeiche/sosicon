<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>sosicon: sosicon::Parser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">sosicon
   &#160;<span id="projectnumber">v 0.1 prerelease</span>
   </div>
   <div id="projectbrief">SOSI file converter</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesosicon.html">sosicon</a></li><li class="navelem"><a class="el" href="classsosicon_1_1_parser.html">Parser</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classsosicon_1_1_parser-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sosicon::Parser Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>SOSI file parser.  
 <a href="classsosicon_1_1_parser.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="parser_8h_source.html">parser.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa4674670e66fba0804c6dd4236c28252"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#aa4674670e66fba0804c6dd4236c28252">Parser</a> ()</td></tr>
<tr class="memdesc:aa4674670e66fba0804c6dd4236c28252"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#aa4674670e66fba0804c6dd4236c28252"></a><br/></td></tr>
<tr class="separator:aa4674670e66fba0804c6dd4236c28252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545072e2779fdea7d4890b56f52cb670"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#a545072e2779fdea7d4890b56f52cb670">~Parser</a> ()</td></tr>
<tr class="memdesc:a545072e2779fdea7d4890b56f52cb670"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a545072e2779fdea7d4890b56f52cb670"></a><br/></td></tr>
<tr class="separator:a545072e2779fdea7d4890b56f52cb670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85d85b224dbf0bcb560e8b500ee858a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#ae85d85b224dbf0bcb560e8b500ee858a">getNextSosiElement</a> (<a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a> *&amp;sosiElement)</td></tr>
<tr class="memdesc:ae85d85b224dbf0bcb560e8b500ee858a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve next SOSI element for output.  <a href="#ae85d85b224dbf0bcb560e8b500ee858a"></a><br/></td></tr>
<tr class="separator:ae85d85b224dbf0bcb560e8b500ee858a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1994861c3887a7479e22dbc9d1fc8ff4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#a1994861c3887a7479e22dbc9d1fc8ff4">getHeadElement</a> ()</td></tr>
<tr class="memdesc:a1994861c3887a7479e22dbc9d1fc8ff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve SOSI head.  <a href="#a1994861c3887a7479e22dbc9d1fc8ff4"></a><br/></td></tr>
<tr class="separator:a1994861c3887a7479e22dbc9d1fc8ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7561b818353b0c554a4d4b01537aee4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#af7561b818353b0c554a4d4b01537aee4">getSosiElementsFields</a> ()</td></tr>
<tr class="memdesc:af7561b818353b0c554a4d4b01537aee4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve list of encountered SOSI fields.  <a href="#af7561b818353b0c554a4d4b01537aee4"></a><br/></td></tr>
<tr class="separator:af7561b818353b0c554a4d4b01537aee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab572a63c55fa68ae4bf6e8cfe027edb9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;<br class="typebreak"/>
::size_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#ab572a63c55fa68ae4bf6e8cfe027edb9">getCountSosiElements</a> ()</td></tr>
<tr class="memdesc:ab572a63c55fa68ae4bf6e8cfe027edb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get total number of SOSI elements.  <a href="#ab572a63c55fa68ae4bf6e8cfe027edb9"></a><br/></td></tr>
<tr class="separator:ab572a63c55fa68ae4bf6e8cfe027edb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a799aaf4c3692eedb158fea33e364994a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;<br class="typebreak"/>
::size_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#a799aaf4c3692eedb158fea33e364994a">getCountSosiElementsSelection</a> ()</td></tr>
<tr class="memdesc:a799aaf4c3692eedb158fea33e364994a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of selected SOSI elements.  <a href="#a799aaf4c3692eedb158fea33e364994a"></a><br/></td></tr>
<tr class="separator:a799aaf4c3692eedb158fea33e364994a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc47b6b613163c065d9f7ed5ad5e6a9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#afc47b6b613163c065d9f7ed5ad5e6a9e">setObjTypeSelection</a> (std::vector&lt; std::string &gt; &amp;objTypes)</td></tr>
<tr class="memdesc:afc47b6b613163c065d9f7ed5ad5e6a9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply output selection filter.  <a href="#afc47b6b613163c065d9f7ed5ad5e6a9e"></a><br/></td></tr>
<tr class="separator:afc47b6b613163c065d9f7ed5ad5e6a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9565b049142d6d1230cb711ba784ce0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#ac9565b049142d6d1230cb711ba784ce0">parseSosiLine</a> (std::string sosiLine)</td></tr>
<tr class="memdesc:ac9565b049142d6d1230cb711ba784ce0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main parser routine.  <a href="#ac9565b049142d6d1230cb711ba784ce0"></a><br/></td></tr>
<tr class="separator:ac9565b049142d6d1230cb711ba784ce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa852dbdaea76b73885c96794f04973"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#abaa852dbdaea76b73885c96794f04973">dump</a> (bool all=false)</td></tr>
<tr class="memdesc:abaa852dbdaea76b73885c96794f04973"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump file content to stdout.  <a href="#abaa852dbdaea76b73885c96794f04973"></a><br/></td></tr>
<tr class="separator:abaa852dbdaea76b73885c96794f04973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a435511503f0fd401aec802f63c64c5c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#a435511503f0fd401aec802f63c64c5c8">reset</a> ()</td></tr>
<tr class="memdesc:a435511503f0fd401aec802f63c64c5c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset parser, free allocated resources.  <a href="#a435511503f0fd401aec802f63c64c5c8"></a><br/></td></tr>
<tr class="separator:a435511503f0fd401aec802f63c64c5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac2d80de58e090fc36ed79ba27445156f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#ac2d80de58e090fc36ed79ba27445156f">mSosiElements</a></td></tr>
<tr class="memdesc:ac2d80de58e090fc36ed79ba27445156f"><td class="mdescLeft">&#160;</td><td class="mdescRight">SOSI elements container.  <a href="#ac2d80de58e090fc36ed79ba27445156f"></a><br/></td></tr>
<tr class="separator:ac2d80de58e090fc36ed79ba27445156f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ba218192a83f8085fbbd15b4127e0d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#ab8ba218192a83f8085fbbd15b4127e0d">mSosiElementsSelection</a></td></tr>
<tr class="memdesc:ab8ba218192a83f8085fbbd15b4127e0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">SOSI elements selected for output.  <a href="#ab8ba218192a83f8085fbbd15b4127e0d"></a><br/></td></tr>
<tr class="separator:ab8ba218192a83f8085fbbd15b4127e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3063d1f8e27b4aa14bed17a00be75d0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a> * &gt;<br class="typebreak"/>
::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#af3063d1f8e27b4aa14bed17a00be75d0">mSosiElementsIterator</a></td></tr>
<tr class="memdesc:af3063d1f8e27b4aa14bed17a00be75d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current position within <a class="el" href="classsosicon_1_1_parser.html#ac2d80de58e090fc36ed79ba27445156f" title="SOSI elements container.">Parser::mSosiElements</a>.  <a href="#af3063d1f8e27b4aa14bed17a00be75d0"></a><br/></td></tr>
<tr class="separator:af3063d1f8e27b4aa14bed17a00be75d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafcc473f292845dacd2998ae60e0cf16"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#aafcc473f292845dacd2998ae60e0cf16">mSosiElementsFields</a></td></tr>
<tr class="memdesc:aafcc473f292845dacd2998ae60e0cf16"><td class="mdescLeft">&#160;</td><td class="mdescRight">List containing all encountered SOSI fields in file.  <a href="#aafcc473f292845dacd2998ae60e0cf16"></a><br/></td></tr>
<tr class="separator:aafcc473f292845dacd2998ae60e0cf16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04b45cbeeffff08cd19d98af60e9c03d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#a04b45cbeeffff08cd19d98af60e9c03d">mObjTypeFilter</a></td></tr>
<tr class="memdesc:a04b45cbeeffff08cd19d98af60e9c03d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object type filter.  <a href="#a04b45cbeeffff08cd19d98af60e9c03d"></a><br/></td></tr>
<tr class="separator:a04b45cbeeffff08cd19d98af60e9c03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06987c5d1e0c9ae7c4b2522646de9a64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#a06987c5d1e0c9ae7c4b2522646de9a64">mHeadElement</a></td></tr>
<tr class="memdesc:a06987c5d1e0c9ae7c4b2522646de9a64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the head element.  <a href="#a06987c5d1e0c9ae7c4b2522646de9a64"></a><br/></td></tr>
<tr class="separator:a06987c5d1e0c9ae7c4b2522646de9a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace6142d9df434c9f3d761931205a1b3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsosicon_1_1_parser.html#ace6142d9df434c9f3d761931205a1b3f">mCurrentElement</a></td></tr>
<tr class="memdesc:ace6142d9df434c9f3d761931205a1b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to last encountered SOSI element.  <a href="#ace6142d9df434c9f3d761931205a1b3f"></a><br/></td></tr>
<tr class="separator:ace6142d9df434c9f3d761931205a1b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SOSI file parser. </p>
<dl class="section author"><dt>Author</dt><dd>Espen Andersen </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License</dd></dl>
<p>The file parser. Reads and organizes SOSI file input, preparing the data for conversion and output. This class wraps a Ragel-generated state machine set up to parse SOSI content line-by-line. For more information about the Ragel state machine compiler, visit <a href="http://www.complang.org/ragel/">http://www.complang.org/ragel/</a></p>
<p>Specifically, the function <a class="el" href="classsosicon_1_1_parser.html#ac9565b049142d6d1230cb711ba784ce0" title="Main parser routine.">parseSosiLine()</a> is implemented in Ragel. The implementation script is located in <a class="el" href="parser__sosi__line_8rl.html">parser/parser_sosi_line.rl</a>. The file <a class="el" href="parser__sosi__line_8cpp.html">parser_sosi_line.cpp</a> is generated on the basis of <a class="el" href="parser__sosi__line_8rl.html">parser/parser_sosi_line.rl</a> during pre-build processing.</p>
<dl class="section note"><dt>Note</dt><dd>Since <a class="el" href="parser__sosi__line_8cpp.html">parser_sosi_line.cpp</a> is automatically re-generated before each compile, no redacting mat take place here. Any changes will be lost upon compile. Instead, its source script <a class="el" href="parser__sosi__line_8rl.html">parser/parser_sosi_line.rl</a> have to be edited. </dd></dl>

<p>Definition at line <a class="el" href="parser_8h_source.html#l00052">52</a> of file <a class="el" href="parser_8h_source.html">parser.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa4674670e66fba0804c6dd4236c28252"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sosicon::Parser::Parser </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>Initializes internal iterators and pointers. </p>

<p>Definition at line <a class="el" href="parser_8cpp_source.html#l00021">21</a> of file <a class="el" href="parser_8cpp_source.html">parser.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a545072e2779fdea7d4890b56f52cb670"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sosicon::Parser::~Parser </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>Calls <a class="el" href="classsosicon_1_1_parser.html#a435511503f0fd401aec802f63c64c5c8" title="Reset parser, free allocated resources.">Parser::reset()</a> for final clean-up. </p>

<p>Definition at line <a class="el" href="parser_8cpp_source.html#l00028">28</a> of file <a class="el" href="parser_8cpp_source.html">parser.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abaa852dbdaea76b73885c96794f04973"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sosicon::Parser::dump </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>all</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump file content to stdout. </p>
<p>Writes a string representation of the SOSI file to stdout, for debugging purposes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">all</td><td>Dump all items in file. If this parameter is true, each SOSI element in the source file will be output. This may cause a lot of text to be output if the SOSI file is large. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="parser_8cpp_source.html#l00047">47</a> of file <a class="el" href="parser_8cpp_source.html">parser.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab572a63c55fa68ae4bf6e8cfe027edb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt;::size_type sosicon::Parser::getCountSosiElements </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get total number of SOSI elements. </p>
<p>Returns total count of SOSI elements minus the head element.</p>
<dl class="section return"><dt>Returns</dt><dd>The count of all SOSI elements except the head element. </dd></dl>

<p>Definition at line <a class="el" href="parser_8cpp_source.html#l00130">130</a> of file <a class="el" href="parser_8cpp_source.html">parser.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a799aaf4c3692eedb158fea33e364994a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt;::size_type sosicon::Parser::getCountSosiElementsSelection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get number of selected SOSI elements. </p>
<p>Returns number of SOSI elements scheduled for output. If no object type selection was specified, or the <a class="el" href="classsosicon_1_1_parser.html#a04b45cbeeffff08cd19d98af60e9c03d" title="Object type filter.">Parser::mObjTypeFilter</a> list is emtpy, the count of all SOSI elements minus the head element will be returned.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classsosicon_1_1_parser.html#afc47b6b613163c065d9f7ed5ad5e6a9e" title="Apply output selection filter.">Parser::setObjTypeSelection()</a>, <a class="el" href="classsosicon_1_1_parser.html#a04b45cbeeffff08cd19d98af60e9c03d" title="Object type filter.">Parser::mObjTypeFilter</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The number of SOSI elements scheduled for output. </dd></dl>

<p>Definition at line <a class="el" href="parser_8cpp_source.html#l00135">135</a> of file <a class="el" href="parser_8cpp_source.html">parser.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1994861c3887a7479e22dbc9d1fc8ff4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsosicon_1_1_i_sosi_element.html">sosicon::ISosiElement</a> * sosicon::Parser::getHeadElement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve SOSI head. </p>
<p>The SOSI head element is special, since it contains global information about all other elements in the file.</p>
<p>This function returns a pointer to the head element.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classsosicon_1_1_parser.html#a06987c5d1e0c9ae7c4b2522646de9a64" title="Pointer to the head element.">Parser::mHeadElement</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a <a class="el" href="classsosicon_1_1_i_sosi_element.html" title="Interface: SOSI element.">ISosiElement</a> representing the file head. </dd></dl>

<p>Definition at line <a class="el" href="parser_8cpp_source.html#l00161">161</a> of file <a class="el" href="parser_8cpp_source.html">parser.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae85d85b224dbf0bcb560e8b500ee858a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sosicon::Parser::getNextSosiElement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a> *&amp;&#160;</td>
          <td class="paramname"><em>sosiElement</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve next SOSI element for output. </p>
<p>Iterates through the list of SOSI elements to be exported for output.</p>
<p>Takes a reference to a <a class="el" href="classsosicon_1_1_i_sosi_element.html" title="Interface: SOSI element.">ISosiElement</a> pointer and assigns it to the next SOSI element in list. If the pointer is 0, the iteration will start at the beginning, otherwise it will continue to the next element, until reaching the end of the list.</p>
<p>If <a class="el" href="classsosicon_1_1_parser.html#ab8ba218192a83f8085fbbd15b4127e0d" title="SOSI elements selected for output.">Parser::mSosiElementsSelection</a> is populated, it will be promoted as the source list, thus emitting object types selected from the command-line only.</p>
<p>If <a class="el" href="classsosicon_1_1_parser.html#ab8ba218192a83f8085fbbd15b4127e0d" title="SOSI elements selected for output.">Parser::mSosiElementsSelection</a> is empty, <a class="el" href="classsosicon_1_1_parser.html#ac2d80de58e090fc36ed79ba27445156f" title="SOSI elements container.">Parser::mSosiElements</a> will be used instad, emitting all encountered SOSI elements (except for the head element).</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classsosicon_1_1_parser.html#ac2d80de58e090fc36ed79ba27445156f" title="SOSI elements container.">Parser::mSosiElements</a>, <a class="el" href="classsosicon_1_1_parser.html#ab8ba218192a83f8085fbbd15b4127e0d" title="SOSI elements selected for output.">Parser::mSosiElementsSelection</a> </dd>
<dd>
<a class="el" href="classsosicon_1_1_parser.html#af3063d1f8e27b4aa14bed17a00be75d0" title="Current position within Parser::mSosiElements.">Parser::mSosiElementsIterator</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>The pointer reference sosiElement must be initialized to zero before the first call to this function, but not between calls. It will be reset to zero once the iteration goes past the last element in list.</dd></dl>
<p>Example of usage:</p>
<div class="fragment"><div class="line">ISosiElement* e = 0; <span class="comment">// Must be initialized to zero!</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// p is instance of Parser:</span></div>
<div class="line"><span class="keywordflow">while</span>( p.getNextSosiElement( e ) ) {</div>
<div class="line"></div>
<div class="line">    std::cout &lt;&lt; e-&gt;getType() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sosiElement</td><td>Reference to a pointer receiving the address of the next element in list. If the pointer's initial value is zero, the iteration will start at the beginning of the list. When the iteration passes the last element, the pointer will be reset to zero.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status of the iteration. Use the return value in a while-loop to retrieve all values in sequence. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Iteration is in progress. There are still more items to retrieve and the loop may go on. </td></tr>
    <tr><td class="paramname">false</td><td>The iteration reached the end of the list. There are no more items to retrieve and the loop must be terminated. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="parser_8cpp_source.html#l00140">140</a> of file <a class="el" href="parser_8cpp_source.html">parser.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af7561b818353b0c554a4d4b01537aee4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; &amp; sosicon::Parser::getSosiElementsFields </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve list of encountered SOSI fields. </p>
<p>Returns a summary of all fields encountered within current file. This function will iterate through every field in every SOSI element to build the field list. The list is lazy initialized and the build process is performed only once since it can be time consumng. Complexity is T(n) = O(n^2) and depends on the size of the input file.</p>
<dl class="section return"><dt>Returns</dt><dd>A reference to a string vector containing encountered field keys. </dd></dl>

<p>Definition at line <a class="el" href="parser_8cpp_source.html#l00109">109</a> of file <a class="el" href="parser_8cpp_source.html">parser.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac9565b049142d6d1230cb711ba784ce0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sosicon::Parser::parseSosiLine </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>sosiLine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main parser routine. </p>
<p>Processes one line from the SOSI file. This function is called repeatedly, consuming the input file line-by-line until EOF.</p>
<dl class="section note"><dt>Note</dt><dd>This function is implemented in the ragel script at <a class="el" href="parser__sosi__line_8rl.html">parser/parser_sosi_line.rl</a>, the c++ file <a class="el" href="parser__sosi__line_8cpp.html">parser_sosi_line.cpp</a> is merely generated from the ragel script. Thus, any changes to the implementation must be done in the ragel script, since the c++ file will be automatically overwritten during the pre-build process.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sosiLine</td><td>Current line from the SOSI input file. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="parser__sosi__line_8rl_source.html#l00033">33</a> of file <a class="el" href="parser__sosi__line_8rl_source.html">parser_sosi_line.rl</a>.</p>

</div>
</div>
<a class="anchor" id="a435511503f0fd401aec802f63c64c5c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sosicon::Parser::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset parser, free allocated resources. </p>
<p>Empties element lists, frees allocated resources, resets iterators and re-initializes internal pointers. After calling this function, the parser is ready to start consuming a new SOSI file from the beginning. </p>

<p>Definition at line <a class="el" href="parser_8cpp_source.html#l00033">33</a> of file <a class="el" href="parser_8cpp_source.html">parser.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afc47b6b613163c065d9f7ed5ad5e6a9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sosicon::Parser::setObjTypeSelection </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>objTypes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply output selection filter. </p>
<p>Which SOSI elements to export is governed by the <a class="el" href="classsosicon_1_1_parser.html#a04b45cbeeffff08cd19d98af60e9c03d" title="Object type filter.">Parser::mObjTypeFilter</a> member. This string vector is initialized here. If the list contains one or more strings, only SOSI elements with a corresponding OBJTYPE will be scheduled for output.</p>
<p>The list of OBJTYPE strings are populated from the command-line interface, more specifically the -t parameter. It takes a comma-separated list of OBJTYPE names to specify which SOSI elements should be included in the target file. The comma-separated string is parsed and converted to a string vector by the <a class="el" href="classsosicon_1_1_command_line.html" title="Command-line parser.">sosicon::CommandLine</a> class before it is passed on to the parser through this function.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classsosicon_1_1_parser.html#a04b45cbeeffff08cd19d98af60e9c03d" title="Object type filter.">Parser::mObjTypeFilter</a>, <a class="el" href="classsosicon_1_1_command_line.html#a731b9378cf054aed7f9c32d0f617f4cb" title="Read command-line arguments.">sosicon::CommandLine::parse()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">objTypes</td><td>String vector containing the SOSI OBJTYPE identitifers for elements to include in the output. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="parser_8cpp_source.html#l00125">125</a> of file <a class="el" href="parser_8cpp_source.html">parser.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ace6142d9df434c9f3d761931205a1b3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a>* sosicon::Parser::mCurrentElement</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to last encountered SOSI element. </p>
<p>Used internally by <a class="el" href="classsosicon_1_1_parser.html#ac9565b049142d6d1230cb711ba784ce0" title="Main parser routine.">Parser::parseSosiLine()</a> during file consumption.</p>
<p>The Ragel implemented parser consumes the SOSI file one line at the time. When encountering a new SOSI object, a corresponding <a class="el" href="classsosicon_1_1_i_sosi_element.html" title="Interface: SOSI element.">ISosiElement</a> implementation is created and placed in <a class="el" href="classsosicon_1_1_parser.html#ac2d80de58e090fc36ed79ba27445156f" title="SOSI elements container.">Parser::mSosiElements</a> and possibly <a class="el" href="classsosicon_1_1_parser.html#ab8ba218192a83f8085fbbd15b4127e0d" title="SOSI elements selected for output.">Parser::mSosiElementsSelection</a>.</p>
<p>A pointer to the new object is assigned to this member in order to keep track of to the SOSI element currently in process.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classsosicon_1_1_parser.html#ac9565b049142d6d1230cb711ba784ce0" title="Main parser routine.">Parser::parseSosiLine()</a> </dd></dl>

<p>Definition at line <a class="el" href="parser_8h_source.html#l00129">129</a> of file <a class="el" href="parser_8h_source.html">parser.h</a>.</p>

</div>
</div>
<a class="anchor" id="a06987c5d1e0c9ae7c4b2522646de9a64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a>* sosicon::Parser::mHeadElement</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the head element. </p>
<p>The head element is not stored in the <a class="el" href="classsosicon_1_1_parser.html#ac2d80de58e090fc36ed79ba27445156f" title="SOSI elements container.">Parser::mSosiElements</a> list because it contains data which is globally relevant to all elements in the SOSI file. Instead, it is available directly through this member. <a class="el" href="classsosicon_1_1_parser.html#a1994861c3887a7479e22dbc9d1fc8ff4" title="Retrieve SOSI head.">Parser::getHeadElement()</a> provides external access to this member.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classsosicon_1_1_parser.html#a1994861c3887a7479e22dbc9d1fc8ff4" title="Retrieve SOSI head.">Parser::getHeadElement()</a> </dd></dl>

<p>Definition at line <a class="el" href="parser_8h_source.html#l00114">114</a> of file <a class="el" href="parser_8h_source.html">parser.h</a>.</p>

</div>
</div>
<a class="anchor" id="a04b45cbeeffff08cd19d98af60e9c03d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; sosicon::Parser::mObjTypeFilter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Object type filter. </p>
<p>SOSI object types scheduled for output. The vector is populated by the comma-separated values given by the command-line parameter -t. If the list is empty, all available objects will be exported without filtering.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classsosicon_1_1_parser.html#afc47b6b613163c065d9f7ed5ad5e6a9e" title="Apply output selection filter.">Parser::setObjTypeSelection()</a> </dd></dl>

<p>Definition at line <a class="el" href="parser_8h_source.html#l00103">103</a> of file <a class="el" href="parser_8h_source.html">parser.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac2d80de58e090fc36ed79ba27445156f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a>*&gt; sosicon::Parser::mSosiElements</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SOSI elements container. </p>
<p>Stores pointers to all recognized and parsed SOSI file elements, except for the head element which is stored in <a class="el" href="classsosicon_1_1_parser.html#a06987c5d1e0c9ae7c4b2522646de9a64" title="Pointer to the head element.">Parser::mHeadElement</a>. SOSI elements selected for output are pointed to by the items in <a class="el" href="classsosicon_1_1_parser.html#ab8ba218192a83f8085fbbd15b4127e0d" title="SOSI elements selected for output.">Parser::mSosiElementsSelection</a>. </p>

<p>Definition at line <a class="el" href="parser_8h_source.html#l00060">60</a> of file <a class="el" href="parser_8h_source.html">parser.h</a>.</p>

</div>
</div>
<a class="anchor" id="aafcc473f292845dacd2998ae60e0cf16"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; sosicon::Parser::mSosiElementsFields</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List containing all encountered SOSI fields in file. </p>
<p>Overview of all fields present in current SOSI file, regardless of object type.</p>
<p>When exporting to certain file formats, such as tab separated values (tsv), this field overview determines what columns should be present in the output file - unless a custom field list is specified via the command-line interface (sosicon command-line parameter -f).</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classsosicon_1_1_converter_sosi2tsv.html#af782acccf9eddaf1c09951c3880c2c1d" title="Start conversion.">sosicon::ConverterSosi2tsv::run()</a> </dd></dl>

<p>Definition at line <a class="el" href="parser_8h_source.html#l00093">93</a> of file <a class="el" href="parser_8h_source.html">parser.h</a>.</p>

</div>
</div>
<a class="anchor" id="af3063d1f8e27b4aa14bed17a00be75d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a>*&gt;::iterator sosicon::Parser::mSosiElementsIterator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current position within <a class="el" href="classsosicon_1_1_parser.html#ac2d80de58e090fc36ed79ba27445156f" title="SOSI elements container.">Parser::mSosiElements</a>. </p>
<p>Used internally by <a class="el" href="classsosicon_1_1_parser.html#ae85d85b224dbf0bcb560e8b500ee858a" title="Retrieve next SOSI element for output.">Parser::getNextSosiElement()</a>. Keeps track of current position while iterating the list of SOSI elements for output.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classsosicon_1_1_parser.html#ae85d85b224dbf0bcb560e8b500ee858a" title="Retrieve next SOSI element for output.">Parser::getNextSosiElement()</a> </dd></dl>

<p>Definition at line <a class="el" href="parser_8h_source.html#l00080">80</a> of file <a class="el" href="parser_8h_source.html">parser.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab8ba218192a83f8085fbbd15b4127e0d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classsosicon_1_1_i_sosi_element.html">ISosiElement</a>*&gt; sosicon::Parser::mSosiElementsSelection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SOSI elements selected for output. </p>
<p>Sosicon may schedule only certain SOSI object types for output, ignoring other object types in current file. This member variable keeps track of the elements matching the current object type filter. The filtering is determined by the contents of Parser::mObjTypes.</p>
<dl class="section see"><dt>See Also</dt><dd>mObjTypes </dd></dl>

<p>Definition at line <a class="el" href="parser_8h_source.html#l00071">71</a> of file <a class="el" href="parser_8h_source.html">parser.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/prosjekter/sosicon/src/<a class="el" href="parser_8h_source.html">parser.h</a></li>
<li>/prosjekter/sosicon/src/parser/<a class="el" href="parser__sosi__line_8rl_source.html">parser_sosi_line.rl</a></li>
<li>/prosjekter/sosicon/src/<a class="el" href="parser_8cpp_source.html">parser.cpp</a></li>
<li>/prosjekter/sosicon/src/<a class="el" href="parser__sosi__line_8cpp_source.html">parser_sosi_line.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 17 2012 19:48:10 for sosicon by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
